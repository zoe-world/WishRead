{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/zoe/Documents/Wishread/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import{faBookmark}from\"@fortawesome/free-solid-svg-icons\";import WishBookItem from\"components/Book/WishBookItem\";import SearchBar from\"components/Main/SearchBar\";import IconButton from\"components/common/Button/IconButton\";import{useEffect,useMemo,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useRecoilState,useRecoilValue}from\"recoil\";import{recentState,searchInfoState}from\"recoil/atoms/atoms\";import{bookData}from\"recoil/selectors/api\";import styled from\"styled-components\";import FootPage from\"./FootPage\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function MainPage(){// 검색어 초기값 설정\nconst item=[\"이병률\",\"조예은\",\"정세랑\",\"김영하\"];const randomKeyword=(min,max)=>{return Math.trunc(Math.random()*(max-min+1));};const random=useMemo(()=>randomKeyword(1,item.length),[]);const[search,setSearch]=useRecoilState(searchInfoState);const searchKeword=search=>{if(!search){return item[random];}else{return search;}return true;};// 페이지 이동\nconst navigate=useNavigate();const goToWishBookPage=()=>navigate(\"/wishbook\");const bookSelector=useRecoilValue(bookData(searchKeword(search)));const[data,setData]=useState();const[recent,setRecent]=useRecoilState(recentState);const getData=()=>{if(recent||recent!==null)setData(recent);else setData([]);};useEffect(()=>{getData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Nav,{children:/*#__PURE__*/_jsx(IconButton,{fontSize:\"20px\",icon:faBookmark,title:\"\\uC704\\uC2DC\\uB9AC\\uC2A4\\uD2B8\",onClick:goToWishBookPage,color:\"#0047ab\"})}),/*#__PURE__*/_jsx(Logo,{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(LogoImg,{src:require(\"assets/images/logo.png\"),alt:\"WISHREAD \\uB85C\\uACE0\"})})}),/*#__PURE__*/_jsx(SearchBar,{})]}),!search?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\uCD5C\\uADFC \\uAC80\\uC0C9\\uD55C \\uCC45\"}),/*#__PURE__*/_jsx(WishBookList,{children:data!==undefined?data.map(result=>{let bookCode=result.isbn.split(\" \").join(\"\");return/*#__PURE__*/_jsx(WishBookItem,{result:result},bookCode);}):/*#__PURE__*/_jsx(\"p\",{children:\"\\uCD5C\\uADFC \\uAC80\\uC0C9\\uD55C \\uCC45\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})})]}):\"\",!search?/*#__PURE__*/_jsx(Title,{children:\"\\uCD94\\uCC9C\\uCC45\"}):/*#__PURE__*/_jsx(Title,{children:\"\\uAC80\\uC0C9\\uACB0\\uACFC\"}),/*#__PURE__*/_jsx(WishBookList,{children:bookSelector.map(result=>{return/*#__PURE__*/_jsx(WishBookItem,{result:result},result.isbn);})}),/*#__PURE__*/_jsx(FootPage,{page:\"main\"})]});}export default MainPage;const Header=styled.header(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: sticky;\\n  z-index: 9999;\\n  top: 0;\\n  padding: 10px var(--pd-content);\\n  background-color: var(--inner-bg-color);\\n\"])));const Nav=styled.nav(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n\"])));const Logo=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 200px;\\n  height: auto;\\n\"])));const LogoImg=styled.img(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: block;\\n  width: 100%;\\n\"])));const WishBookList=styled.ul(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 15px;\\n  row-gap: 15px;\\n  padding: 30px;\\n\"])));export const Title=styled.h2(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  padding: 2rem var(--pd-content) 0;\\n  font-size: 2rem;\\n\"])));","map":{"version":3,"names":["faBookmark","WishBookItem","SearchBar","IconButton","useEffect","useMemo","useState","Link","useNavigate","useRecoilState","useRecoilValue","recentState","searchInfoState","bookData","styled","FootPage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainPage","item","randomKeyword","min","max","Math","trunc","random","length","search","setSearch","searchKeword","navigate","goToWishBookPage","bookSelector","data","setData","recent","setRecent","getData","children","Header","Nav","fontSize","icon","title","onClick","color","Logo","to","LogoImg","src","require","alt","Title","WishBookList","undefined","map","result","bookCode","isbn","split","join","page","header","_templateObject","_taggedTemplateLiteral","nav","_templateObject2","h1","_templateObject3","img","_templateObject4","ul","_templateObject5","h2","_templateObject6"],"sources":["/Users/zoe/Documents/Wishread/src/pages/MainPage/MainPage.tsx"],"sourcesContent":["import { faBookmark } from \"@fortawesome/free-solid-svg-icons\";\nimport WishBookItem from \"components/Book/WishBookItem\";\nimport SearchBar from \"components/Main/SearchBar\";\nimport IconButton from \"components/common/Button/IconButton\";\nimport { BookDTO } from \"components/types/searchType\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { selector, useRecoilState, useRecoilValue } from \"recoil\";\nimport { recentState, searchInfoState } from \"recoil/atoms/atoms\";\nimport { bookData } from \"recoil/selectors/api\";\nimport styled from \"styled-components\";\nimport FootPage from \"./FootPage\";\n\nfunction MainPage(): JSX.Element {\n  // 검색어 초기값 설정\n  const item = [\"이병률\", \"조예은\", \"정세랑\", \"김영하\"];\n  const randomKeyword = (min: number, max: number) => {\n    return Math.trunc(Math.random() * (max - min + 1));\n  };\n\n  const random = useMemo(() => randomKeyword(1, item.length), []);\n  const [search, setSearch] = useRecoilState(searchInfoState);\n  const searchKeword = (search: any) => {\n    if (!search) {\n      return item[random];\n    } else {\n      return search;\n    }\n    return true;\n  };\n  // 페이지 이동\n  const navigate = useNavigate();\n  const goToWishBookPage = () => navigate(\"/wishbook\");\n\n  const bookSelector = useRecoilValue(bookData(searchKeword(search)));\n\n  const [data, setData] = useState<BookDTO[]>();\n  const [recent, setRecent] = useRecoilState(recentState);\n\n  const getData = () => {\n    if (recent || recent !== null) setData(recent);\n    else setData([]);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <>\n      <Header>\n        <Nav>\n          <IconButton\n            fontSize=\"20px\"\n            icon={faBookmark}\n            title=\"위시리스트\"\n            onClick={goToWishBookPage}\n            color={\"#0047ab\"}\n          />\n        </Nav>\n        <Logo>\n          <Link to=\"/\">\n            <LogoImg\n              src={require(\"assets/images/logo.png\")}\n              alt=\"WISHREAD 로고\"\n            />\n          </Link>\n        </Logo>\n        <SearchBar />\n      </Header>\n      {!search ? (\n        <>\n          <Title>최근 검색한 책</Title>\n          <WishBookList>\n            {data !== undefined ? (\n              data.map((result: any) => {\n                let bookCode = result.isbn.split(\" \").join(\"\");\n                return <WishBookItem result={result} key={bookCode} />;\n              })\n            ) : (\n              <p>최근 검색한 책이 없습니다.</p>\n            )}\n          </WishBookList>\n        </>\n      ) : (\n        ``\n      )}\n\n      {!search ? <Title>추천책</Title> : <Title>검색결과</Title>}\n      <WishBookList>\n        {bookSelector.map((result: any) => {\n          return <WishBookItem result={result} key={result.isbn} />;\n        })}\n      </WishBookList>\n      <FootPage page=\"main\" />\n    </>\n  );\n}\nexport default MainPage;\n\nconst Header = styled.header`\n  position: sticky;\n  z-index: 9999;\n  top: 0;\n  padding: 10px var(--pd-content);\n  background-color: var(--inner-bg-color);\n`;\n\nconst Nav = styled.nav`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\nconst Logo = styled.h1`\n  display: flex;\n  width: 200px;\n  height: auto;\n`;\nconst LogoImg = styled.img`\n  display: block;\n  width: 100%;\n`;\nconst WishBookList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n  row-gap: 15px;\n  padding: 30px;\n`;\n\nexport const Title = styled.h2`\n  padding: 2rem var(--pd-content) 0;\n  font-size: 2rem;\n`;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}