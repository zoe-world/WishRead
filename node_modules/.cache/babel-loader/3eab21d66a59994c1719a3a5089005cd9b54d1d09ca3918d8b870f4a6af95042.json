{"ast":null,"code":"var _jsxFileName = \"/Users/zoe/Documents/Wishread/src/components/Book/WishBookItem.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport WishBookItemInfo from \"./WishBookItemInfo\";\nimport WishBookItemImg from \"./WishBookItemImg\";\nimport media from \"styles/media\";\nimport { useRecoilState } from \"recoil\";\nimport { bookDataState, filteredBookSelector } from \"recoil/books\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction WishBookItem({\n  result\n}) {\n  _s();\n  const {\n    authors,\n    contents,\n    datetime,\n    isbn,\n    price,\n    publisher,\n    sale_price,\n    status,\n    thumbnail,\n    title,\n    translators,\n    url\n  } = result;\n  let bookCode = isbn.split(\" \").join(\"\");\n  const [book, setBook] = useRecoilState(bookDataState);\n  // 최근 검색기록\n  const [watch, setWatch] = useRecoilState(filteredBookSelector(bookCode));\n  const change = () => {\n    if ((book === null || book === void 0 ? void 0 : book.findIndex(item => item.isbn === bookCode)) === -1) {\n      const newRecent = [...book];\n      newRecent.push(result);\n      setWatch(!watch);\n    }\n  };\n  useEffect(() => {}, [watch]);\n  console.log(book.filter(v => v.watch === true));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(SLink, {\n        to: `${bookCode}`,\n        state: {\n          result: result\n        },\n        onClick: change,\n        children: [/*#__PURE__*/_jsxDEV(WishBookItemImg, {\n          title: title,\n          thumbnail: thumbnail,\n          page: \"main\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WishBookItemInfo, {\n          authors: authors,\n          contents: contents,\n          datetime: datetime,\n          isbn: isbn,\n          price: price,\n          publisher: publisher,\n          sale_price: sale_price,\n          status: status,\n          thumbnail: thumbnail,\n          title: title,\n          translators: translators,\n          url: url,\n          page: \"main\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, result.isbn, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(WishBookItem, \"YautJtTJkXhSjWNoB0ChQ3xywVY=\", false, function () {\n  return [useRecoilState, useRecoilState];\n});\n_c = WishBookItem;\nexport default WishBookItem;\nconst Wrapper = styled.li`\n  width: calc(20% - 15px);\n  background-color: var(--inner-bg-color);\n  border-radius: 10px;\n  ${media.medium`\n    width: calc(33% - 15px)\n  `}\n  ${media.small`\n    width: calc(50% - 15px)\n  `}\n`;\n_c2 = Wrapper;\nconst SLink = styled(Link)`\n  position: relative;\n  width: 100%;\n`;\n_c3 = SLink;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"WishBookItem\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"SLink\");","map":{"version":3,"names":["React","useEffect","Link","styled","WishBookItemInfo","WishBookItemImg","media","useRecoilState","bookDataState","filteredBookSelector","jsxDEV","_jsxDEV","Fragment","_Fragment","WishBookItem","result","_s","authors","contents","datetime","isbn","price","publisher","sale_price","status","thumbnail","title","translators","url","bookCode","split","join","book","setBook","watch","setWatch","change","findIndex","item","newRecent","push","console","log","filter","v","children","Wrapper","SLink","to","state","onClick","page","fileName","_jsxFileName","lineNumber","columnNumber","_c","li","medium","small","_c2","_c3","$RefreshReg$"],"sources":["/Users/zoe/Documents/Wishread/src/components/Book/WishBookItem.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport WishBookItemInfo from \"./WishBookItemInfo\";\nimport WishBookItemImg from \"./WishBookItemImg\";\nimport media from \"styles/media\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { bookDataState, filteredBookSelector } from \"recoil/books\";\n\nexport interface ResultProps {\n  result: {\n    authors: string[];\n    contents: string;\n    datetime: string;\n    isbn: string;\n    price: string;\n    publisher: string;\n    sale_price: string;\n    status: string;\n    thumbnail: string;\n    title: string;\n    translators: string[];\n    url: string;\n  };\n}\nfunction WishBookItem({ result }: ResultProps): JSX.Element {\n  const {\n    authors,\n    contents,\n    datetime,\n    isbn,\n    price,\n    publisher,\n    sale_price,\n    status,\n    thumbnail,\n    title,\n    translators,\n    url,\n  } = result;\n  let bookCode = isbn.split(\" \").join(\"\");\n\n  const [book, setBook] = useRecoilState(bookDataState);\n  // 최근 검색기록\n  const [watch, setWatch] = useRecoilState(filteredBookSelector(bookCode));\n\n  const change = () => {\n    if (book?.findIndex((item: any) => item.isbn === bookCode) === -1) {\n      const newRecent = [...book];\n      newRecent.push(result);\n      setWatch(!watch);\n    }\n  };\n  useEffect(() => {}, [watch]);\n  console.log(book.filter((v) => v.watch === true));\n  return (\n    <>\n      <Wrapper key={result.isbn}>\n        <SLink\n          to={`${bookCode}`}\n          state={{\n            result: result,\n          }}\n          onClick={change}\n        >\n          <WishBookItemImg title={title} thumbnail={thumbnail} page=\"main\" />\n          <WishBookItemInfo\n            authors={authors}\n            contents={contents}\n            datetime={datetime}\n            isbn={isbn}\n            price={price}\n            publisher={publisher}\n            sale_price={sale_price}\n            status={status}\n            thumbnail={thumbnail}\n            title={title}\n            translators={translators}\n            url={url}\n            page=\"main\"\n          ></WishBookItemInfo>\n        </SLink>\n      </Wrapper>\n    </>\n  );\n}\n\nexport default WishBookItem;\n\nconst Wrapper = styled.li`\n  width: calc(20% - 15px);\n  background-color: var(--inner-bg-color);\n  border-radius: 10px;\n  ${media.medium`\n    width: calc(33% - 15px)\n  `}\n  ${media.small`\n    width: calc(50% - 15px)\n  `}\n`;\n\nconst SLink = styled(Link)`\n  position: relative;\n  width: 100%;\n`;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}