{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/zoe/Documents/Wishread/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import{faMagnifyingGlass,faXmark}from\"@fortawesome/free-solid-svg-icons\";import IconButton from\"components/common/Button/IconButton\";import React,{useRef,useState}from\"react\";import{useRecoilState}from\"recoil\";import{searchInfoState}from\"recoil/books\";import styled from\"styled-components\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function SearchBar(){const wishbookSearchInputRef=useRef(null);const[search,setSearch]=useRecoilState(searchInfoState);const[text,setText]=useState(\"\");const onChange=event=>{console.log(event.target.value);setText(event.target.value);};const onSearch=()=>{if(text===\"\"){// input 태그 안에 빈 값으로 검색했을 떼? searching default value\nsetSearch(\"\");}else{setSearch(text);}};// 입력된 검색어 삭제\nconst onDelete=()=>{setText(\"\");};const handleKeyDown=event=>{if(event.key===\"Enter\"){event.preventDefault();if(text===\"\"){// input 태그 안에 빈 값으로 검색했을 떼? searching default value\n// default 값으로 가지고 있어야하는 값이 필요함\nsetSearch(\"\");}else{setSearch(text);}}};// 검색 후 화면에 뿌리기\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(SearchForm,{children:[/*#__PURE__*/_jsx(IconButton,{fontSize:\"18px\",icon:faMagnifyingGlass,onClick:onSearch}),/*#__PURE__*/_jsx(WishbookSearchInput,{type:\"text\",placeholder:\"\\uCC45 \\uC774\\uB984 \\uD639\\uC740 \\uC791\\uAC00 \\uC774\\uB984\\uC744 \\uAC80\\uC0C9\\uD558\\uC138\\uC694\",ref:wishbookSearchInputRef,onChange:onChange,onKeyDown:handleKeyDown,value:text}),/*#__PURE__*/_jsx(IconButton,{fontSize:\"18px\",icon:faXmark,onClick:onDelete,$hide:text===\"\"?true:false})]})});}export default SearchBar;const SearchForm=styled.form(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  padding: 10px;\\n  background-color: var(--input-bg-color);\\n  border-radius: 10px;\\n\"])));const WishbookSearchInput=styled.input(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  background-color: var(--input-bg-color);\\n  font-size: var(--fs-md);\\n\"])));","map":{"version":3,"names":["faMagnifyingGlass","faXmark","IconButton","React","useRef","useState","useRecoilState","searchInfoState","styled","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchBar","wishbookSearchInputRef","search","setSearch","text","setText","onChange","event","console","log","target","value","onSearch","onDelete","handleKeyDown","key","preventDefault","children","SearchForm","fontSize","icon","onClick","WishbookSearchInput","type","placeholder","ref","onKeyDown","$hide","form","_templateObject","_taggedTemplateLiteral","input","_templateObject2"],"sources":["/Users/zoe/Documents/Wishread/src/components/Main/SearchBar.tsx"],"sourcesContent":["import { faMagnifyingGlass, faXmark } from \"@fortawesome/free-solid-svg-icons\";\nimport axios, { AxiosError } from \"axios\";\nimport IconButton from \"components/common/Button/IconButton\";\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { searchInfoState } from \"recoil/books\";\nimport styled from \"styled-components\";\n\nfunction SearchBar(): JSX.Element {\n  const wishbookSearchInputRef = useRef<HTMLInputElement>(null);\n  const [search, setSearch] = useRecoilState(searchInfoState);\n  const [text, setText] = useState(\"\");\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    console.log(event.target.value);\n    setText(event.target.value);\n  };\n  const onSearch = () => {\n    if (text === \"\") {\n      // input 태그 안에 빈 값으로 검색했을 떼? searching default value\n      setSearch(\"\");\n    } else {\n      setSearch(text);\n    }\n  };\n  // 입력된 검색어 삭제\n  const onDelete = () => {\n    setText(\"\");\n  };\n  const handleKeyDown = (event: React.KeyboardEvent) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      if (text === \"\") {\n        // input 태그 안에 빈 값으로 검색했을 떼? searching default value\n        // default 값으로 가지고 있어야하는 값이 필요함\n        setSearch(\"\");\n      } else {\n        setSearch(text);\n      }\n    }\n  };\n\n  // 검색 후 화면에 뿌리기\n  return (\n    <>\n      <SearchForm>\n        <IconButton\n          fontSize=\"18px\"\n          icon={faMagnifyingGlass}\n          onClick={onSearch}\n        ></IconButton>\n        <WishbookSearchInput\n          type=\"text\"\n          placeholder=\"책 이름 혹은 작가 이름을 검색하세요\"\n          ref={wishbookSearchInputRef}\n          onChange={onChange}\n          onKeyDown={handleKeyDown}\n          value={text}\n        />\n\n        <IconButton\n          fontSize=\"18px\"\n          icon={faXmark}\n          onClick={onDelete}\n          $hide={text === \"\" ? true : false}\n        ></IconButton>\n      </SearchForm>\n    </>\n  );\n}\n\nexport default SearchBar;\n\nconst SearchForm = styled.form`\n  position: relative;\n  display: flex;\n  padding: 10px;\n  background-color: var(--input-bg-color);\n  border-radius: 10px;\n`;\nconst WishbookSearchInput = styled.input`\n  width: 100%;\n  background-color: var(--input-bg-color);\n  font-size: var(--fs-md);\n`;\n"],"mappings":"wKAAA,OAASA,iBAAiB,CAAEC,OAAO,KAAQ,mCAAmC,CAE9E,MAAO,CAAAC,UAAU,KAAM,qCAAqC,CAC5D,MAAO,CAAAC,KAAK,EAAwBC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnE,OAASC,cAAc,KAAwB,QAAQ,CACvD,OAASC,eAAe,KAAQ,cAAc,CAC9C,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEvC,QAAS,CAAAC,SAASA,CAAA,CAAgB,CAChC,KAAM,CAAAC,sBAAsB,CAAGZ,MAAM,CAAmB,IAAI,CAAC,CAC7D,KAAM,CAACa,MAAM,CAAEC,SAAS,CAAC,CAAGZ,cAAc,CAACC,eAAe,CAAC,CAC3D,KAAM,CAACY,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEpC,KAAM,CAAAgB,QAAQ,CAAIC,KAA0C,EAAK,CAC/DC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAC/BN,OAAO,CAACE,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAC7B,CAAC,CACD,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,GAAIR,IAAI,GAAK,EAAE,CAAE,CACf;AACAD,SAAS,CAAC,EAAE,CAAC,CACf,CAAC,IAAM,CACLA,SAAS,CAACC,IAAI,CAAC,CACjB,CACF,CAAC,CACD;AACA,KAAM,CAAAS,QAAQ,CAAGA,CAAA,GAAM,CACrBR,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CACD,KAAM,CAAAS,aAAa,CAAIP,KAA0B,EAAK,CACpD,GAAIA,KAAK,CAACQ,GAAG,GAAK,OAAO,CAAE,CACzBR,KAAK,CAACS,cAAc,CAAC,CAAC,CACtB,GAAIZ,IAAI,GAAK,EAAE,CAAE,CACf;AACA;AACAD,SAAS,CAAC,EAAE,CAAC,CACf,CAAC,IAAM,CACLA,SAAS,CAACC,IAAI,CAAC,CACjB,CACF,CACF,CAAC,CAED;AACA,mBACET,IAAA,CAAAI,SAAA,EAAAkB,QAAA,cACEpB,KAAA,CAACqB,UAAU,EAAAD,QAAA,eACTtB,IAAA,CAACR,UAAU,EACTgC,QAAQ,CAAC,MAAM,CACfC,IAAI,CAAEnC,iBAAkB,CACxBoC,OAAO,CAAET,QAAS,CACP,CAAC,cACdjB,IAAA,CAAC2B,mBAAmB,EAClBC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iGAAsB,CAClCC,GAAG,CAAExB,sBAAuB,CAC5BK,QAAQ,CAAEA,QAAS,CACnBoB,SAAS,CAAEZ,aAAc,CACzBH,KAAK,CAAEP,IAAK,CACb,CAAC,cAEFT,IAAA,CAACR,UAAU,EACTgC,QAAQ,CAAC,MAAM,CACfC,IAAI,CAAElC,OAAQ,CACdmC,OAAO,CAAER,QAAS,CAClBc,KAAK,CAAEvB,IAAI,GAAK,EAAE,CAAG,IAAI,CAAG,KAAM,CACvB,CAAC,EACJ,CAAC,CACb,CAAC,CAEP,CAEA,cAAe,CAAAJ,SAAS,CAExB,KAAM,CAAAkB,UAAU,CAAGzB,MAAM,CAACmC,IAAI,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,yIAM7B,CACD,KAAM,CAAAR,mBAAmB,CAAG7B,MAAM,CAACsC,KAAK,CAAAC,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,kGAIvC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}